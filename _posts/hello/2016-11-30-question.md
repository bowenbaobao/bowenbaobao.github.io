---
layout: post
title: Question
permalink: /:categories/question_url/
date: 2016-11-01 09:30:15 +0800
category: question
tags: [问题]
---



### 当前问题




#### IK 停顿词


IKAnalyzer.cfg.xml

```

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">  
<properties>  
	<comment>IK Analyzer 扩展配置</comment>
	
	<!--用户可以在这里配置自己的扩展字典--> 
	<entry key="ext_dict">industry_dict.dic;</entry> 
	
	<!--用户可以在这里配置自己的扩展停止词字典-->
	<entry key="ext_stopwords">stopword.dic;</entry> 
	
</properties>

```


现在是服务器不重启，自动扩展ik 行业词库

 
```
		//text 为输入的测试字符
		 
		List<String> list=new ArrayList<String>();
		Analyzer anal=new IKAnalyzer();
		
		Configuration cfg=org.wltea.analyzer.cfg.DefaultConfig.getInstance();
	
		
		cfg.setUseSmart(true);
		Dictionary.initial(cfg);
		Dictionary dictionary = Dictionary.getSingleton();
		List<String> mywords=new ArrayList<String>();
		mywords.add("张伟");
		mywords.add("深圳罗");
		dictionary.addWords(mywords);
		
		
		
		StringReader reader=new StringReader(text);
		try {
			if(text.length()>1){
				TokenStream ts=anal.tokenStream("", reader);
				CharTermAttribute term=ts.getAttribute(CharTermAttribute.class);
				ts.reset();
				while(ts.incrementToken()){
					list.add(term.toString());
				}
			}else{
				list.add(text);
			}
			anal.close();
			reader.close();
		} catch (IOException e) {
			logger.error("TestIkAnalyzerController getAnalyzer error:",e);
		}
    	return list;



```

现在的问题是：在服务器不重启的情况下，如果更新动态词库



